<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Undangan Lina & Faqih</title>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      overflow-x: hidden;
      background: #fff;
    }
    section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      padding: 20px;
    }
    img, video {
      max-width: 100%;
      height: auto;
    }
    .countdown {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 20px;
    }
    .time-box {
      background: rgba(255,255,255,0.8);
      border-radius: 12px;
      padding: 10px;
    }
    .time-box span {
      display: block;
    }
    @media (max-width: 768px) {
      .countdown {
        grid-template-columns: repeat(2, 1fr);
      }
      h1, h2, h3, h4, p {
        font-size: 90%;
      }
    }
    @media (max-width: 480px) {
      .countdown {
        grid-template-columns: 1fr 1fr;
      }
      h1, h2, h3, h4, p {
        font-size: 80%;
      }
    }
    /* tombol navigasi */
    .controls {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 1000;
    }
    .controls button {
      border: none;
      border-radius: 50%;
      padding: 10px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      cursor: pointer;
    }
    /* efek salju */
    #snow-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 500;
    }
  </style>
</head>
<body>
  <canvas id="snow-canvas"></canvas>
  
  <!-- Slide 1 -->
  <section id="slide1" style="background:url('bgistana.jpg') no-repeat center/cover;">
    <img src="pasangan.png" alt="Pasangan">
    <h1 style="color:blue; font-family:'Great Vibes', cursive;">Lina & Faqih</h1>
    <p>Tanpa Mengurangi Rasa Hormat, Kami Mengundang Bapak/Ibu/Saudara/i untuk Hadir di Acara Kami</p>
    <p>Kepada: <span id="guest-name">Tamu Undangan</span></p>
    <button onclick="openInvitation()">📩 Buka Undangan</button>
  </section>

  <!-- Slide 2 -->
  <section id="slide2" style="background:url('suasana.jpg') no-repeat center/cover;">
    <h1 style="font-family:'Great Vibes', cursive;">Happy Wedding</h1>
    <div style="position:relative;">
      <img src="istana.png" class="bg">
      <img src="pilar.png" style="position:absolute; left:0; top:0; height:100%;">
      <img src="pilar.png" style="position:absolute; right:0; top:0; height:100%;">
      <img src="pasangantbg.png" alt="Pasangan" style="position:relative; z-index:2;">
    </div>
    <h2>Faqih & Lina</h2>
    <div class="countdown" id="countdown"></div>
    <a href="data:text/calendar;charset=utf8,BEGIN:VCALENDAR..." download="undangan.ics">Save to Calendar</a>
    <video src="burung.mp4" autoplay loop muted style="width:60px; position:absolute; top:20px; right:20px;"></video>
  </section>

  <!-- Slide 3 (pengantar keluarga) -->
  <section id="slide3" style="background:url('bg2.png') no-repeat center/cover;">
    <h2>بسم الله الرحمن الرحيم</h2>
    <p>Atas Rahmat Allah SWT, Kami bermaksud mengundang Anda di acara Kami...</p>
    <!-- Foto Lina -->
    <div style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center;">
      <img src="lina.jpg" style="border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.2); max-width:200px; margin:10px;">
      <div>
        <h3>Marlina</h3>
        <p>Putri dari Bapak Lina & Ummi Lina<br>Bogor</p>
      </div>
    </div>
    <h1>&amp;</h1>
    <!-- Foto Faqih -->
    <div style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center;">
      <div>
        <h3>Muhammad Faqih</h3>
        <p>Putra dari Abi Faqih & Mama Faqih<br>Jakarta</p>
      </div>
      <img src="faqih.jpg" style="border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.2); max-width:200px; margin:10px;">
    </div>
  </section>

  <!-- Slide 4 ayat -->
  <section id="slide4" style="background:url('bgistana2.jpg') no-repeat center/cover;">
    <h2>Ar-Rum:21</h2>
    <p>وَمِنْ آيَاتِهِ أَنْ خَلَقَ لَكُم مِّنْ أَنفُسِكُمْ ...</p>
    <p>Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu pasangan hidup...</p>
  </section>

  <!-- Slide 5 Save The Date -->
  <section id="slide5">
    <h2>Save The Date</h2>
    <p>Akad & Resepsi Pernikahan</p>
    <p>Minggu, 14 Desember 2025</p>
    <p>Rumah Lina</p>
    <a href="https://maps.app.goo.gl/UWhk7CUqkBS6rZ3Z9" target="_blank">📍 Lihat Lokasi</a>
  </section>

  <!-- Slide 6 Hadiah -->
  <section id="slide6" style="background:url('bg2.png') no-repeat center/cover;">
    <h2>Titip Hadiah</h2>
    <p>Doa restu merupakan karunia yang sangat berarti...</p>
    <p>Rekening a.n. Lina & Faqih</p>
    <button onclick="copyRek()">Copy Rekening</button>
  </section>

  <!-- Slide 7 Ucapan -->
  <section id="slide7">
    <h2>Kirim Ucapan</h2>
    <form>
      <textarea placeholder="Tulis ucapan..." style="width:100%; height:80px;"></textarea>
      <br>
      <button type="submit">Kirim</button>
    </form>
  </section>

  <!-- Slide 8 penutup -->
  <section id="slide8" style="background:url('bgistana.jpg') no-repeat center/cover;">
    <img src="pasangan.png" alt="Pasangan">
    <h1 style="color:blue; font-family:'Great Vibes', cursive;">Lina & Faqih</h1>
    <h2>Terima kasih</h2>
  </section>

  <!-- Kontrol -->
  <div class="controls">
    <button onclick="toggleScroll()">⏯</button>
    <button onclick="toggleMusic()">🔇</button>
  </div>

  <audio id="bg-music" src="lagu.mp3" loop></audio>

  <script>
    // Nama dari URL
    const urlParams = new URLSearchParams(window.location.search);
    const guest = urlParams.get('to');
    if(guest) document.getElementById('guest-name').innerText = guest;

    // Countdown
    const targetDate = new Date('Dec 14, 2025 08:00:00').getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const diff = targetDate - now;
      const d = Math.floor(diff/(1000*60*60*24));
      const h = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
      const m = Math.floor((diff%(1000*60*60))/(1000*60));
      const s = Math.floor((diff%(1000*60))/1000);
      document.getElementById('countdown').innerHTML = `
        <div class="time-box"><span>${d}</span><span>Days</span></div>
        <div class="time-box"><span>${h}</span><span>Hours</span></div>
        <div class="time-box"><span>${m}</span><span>Minutes</span></div>
        <div class="time-box"><span>${s}</span><span>Seconds</span></div>`;
    },1000);

    // Auto scroll
    let scrolling = true;
    function autoScroll(){
      if(scrolling) window.scrollBy(0,1);
    }
    setInterval(autoScroll,50);
    function toggleScroll(){ scrolling=!scrolling; }

    // Music
    const music=document.getElementById('bg-music');
    function openInvitation(){ music.play(); }
    function toggleMusic(){
      if(music.muted){ music.muted=false; } else { music.muted=true; }
    }

    // Copy rekening
    function copyRek(){
      navigator.clipboard.writeText('1234567890 - Lina & Faqih');
      alert('Rekening disalin!');
    }

    // Efek salju
    const canvas=document.getElementById('snow-canvas');
    const ctx=canvas.getContext('2d');
    let snow=[];
    function resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
    window.onresize=resize;resize();
    for(let i=0;i<100;i++) snow.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*3+2,d:Math.random()+1});
    function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle="white";ctx.beginPath();for(let i=0;i<snow.length;i++){let f=snow[i];ctx.moveTo(f.x,f.y);ctx.arc(f.x,f.y,f.r,0,Math.PI*2,true);}ctx.fill();update();}
    let angle=0;
    function update(){angle+=0.01;for(let i=0;i<snow.length;i++){let f=snow[i];f.y+=Math.pow(f.d,2)+1;f.x+=Math.sin(angle)*2;if(f.y>canvas.height){snow[i]={x:Math.random()*canvas.width,y:0,r:f.r,d:f.d};}}}
    setInterval(draw,33);
  </script>
</body>
</html>
